<div class="w-full">
<% if notice.present? %>
  <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg
            inline-block" id="notice">
    <%= notice %>
  </p>
<% end %>
<h1 class="font-bold text-xl mb-6 pb-2 border-b-2">
  Your Pragmatic Catalog
</h1>
<% cache @products do %>
<% @products.each do |product| %>
<% cache product do %>
  <%= image_tag(product.image_url, class: 'w-40') %>
  <h2 class="text-xl font-bold mb-3"><%= product.title %></h2>
  <p>
    <%= truncate(strip_tags(product.description), length: 100) %>
  </p>
  <p>
    <%= sprintf("$%0.02f", product.price)%>
  </p>
  <%= button_to 'Add to Cart', line_items_path(product_id: product),
                                form_class: 'inline',
                                class: 'ml-4 rounded-lg py-1 px-2
                                        text-white bg-green-600' %>
  <br/>
    <% end %>
    <% end %>
    <% end %>
</div>
